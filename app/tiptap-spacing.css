/* 
 * Comprehensive TipTap styling with reduced spacing for better readability
 * This CSS ensures optimal spacing between content blocks
 */

/* Base reset to prevent collapsing margins */
#tip-tap {
  overflow: visible;
}

/* Reduced spacing for regular paragraphs */
#tip-tap p {
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

/* Minimal spacing for empty paragraphs */
#tip-tap p:empty,
#tip-tap p.empty-paragraph {
  display: block !important;
  min-height: 0.5rem !important;
  height: 0.5rem !important; 
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;
  position: relative;
}

/* Handle paragraphs with just &nbsp; */
#tip-tap p:has(br:only-child),
#tip-tap p:has(br.ProseMirror-trailingBreak) {
  display: block !important;
  min-height: 0.5rem !important;
  height: 0.5rem !important;
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;
}

/* Headings deserve breathing room but less than before */
#tip-tap h1, #tip-tap h2, #tip-tap h3, #tip-tap h4, #tip-tap h5, #tip-tap h6 {
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

/* Lists need proper spacing */
#tip-tap ul, #tip-tap ol {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* Blockquotes get consistent spacing */
#tip-tap blockquote {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

/* Make sure interactive elements like images have proper spacing */
#tip-tap img {
  margin-top: 1rem;
  margin-bottom: 1rem;
}

/* Fix for iOS Safari which may collapse empty paragraphs */
@supports (-webkit-touch-callout: none) {
  #tip-tap p:empty,
  #tip-tap p.empty-paragraph {
    min-height: 2rem !important;
  }
}
